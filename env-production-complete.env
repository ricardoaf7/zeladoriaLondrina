# ========================================
# ZELADORIA LONDRINA - VARI√ÅVEIS DE PRODU√á√ÉO
# ========================================
# Este arquivo cont√©m todas as vari√°veis necess√°rias para produ√ß√£o
# COPIE ESTE CONTE√öDO PARA AS VARI√ÅVEIS DE AMBIENTE DA VERCEL
# ========================================

# === AMBIENTE E CONFIGURA√á√ïES GERAIS ===
NODE_ENV=production
PORT=5000
VITE_APP_URL=https://zeladoria-londrina.vercel.app
VITE_API_URL=https://zeladoria-londrina.vercel.app/api

# === SUPABASE - BANCO DE DADOS ===
# Obtenha essas informa√ß√µes em: https://app.supabase.com/project/_/settings/api
VITE_SUPABASE_URL=https://seu-subdominio.supabase.co
VITE_SUPABASE_ANON_KEY=seu-anon-key-aqui
SUPABASE_SERVICE_ROLE=seu-service-role-key-aqui
SUPABASE_JWT_SECRET=seu-jwt-secret-aqui

# === SEGURAN√áA - CRIPTOGRAFIA ===
# Gere chaves fortes com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=sua-chave-jwt-super-segura-com-no-minimo-64-caracteres
ENCRYPTION_KEY=sua-chave-de-criptografia-com-no-minimo-32-caracteres
CORS_ORIGIN=https://zeladoria-londrina.vercel.app
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# === ANALYTICS E MONITORAMENTO ===
# Google Analytics (opcional)
VITE_GA_TRACKING_ID=G-XXXXXXXXXX

# Sentry Error Tracking (opcional)
SENTRY_DSN=https://seu-sentry-dsn@sentry.io/projeto-id
SENTRY_ENVIRONMENT=production

# Vercel Analytics (autom√°tico)
VERCEL_ANALYTICS_ID=vercel-analytics-id

# === CACHE E PERFORMANCE ===
CACHE_TTL=3600
REDIS_URL=redis://localhost:6379
ENABLE_COMPRESSION=true
ENABLE_MINIFICATION=true

# === UPLOAD E ARQUIVOS ===
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,csv

# === EMAIL E NOTIFICA√á√ïES ===
# Configura√ß√£o de email (opcional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-de-app
EMAIL_FROM=Zeladoria Londrina <noreply@londrina.pr.gov.br>

# === SISTEMA DE RO√áAGEM - CONFIGURA√á√ïES ===
# Configura√ß√µes espec√≠ficas para o sistema OCR
OCR_CONFIDENCE_THRESHOLD=0.8
OCR_LANGUAGE=por
OCR_BATCH_SIZE=50
IMPORT_MAX_AREAS=1000
IMPORT_BATCH_SIZE=100

# Mapeamento de tipos de servi√ßo
SERVICE_TYPE_MAPPING={"area publica":"ROCAGEM","pra√ßa":"MANUTENCAO_PRA√áA","canteiros":"ROCAGEM_CANTEIROS","viela":"ROCAGEM_VIELA","lote p√∫blico":"ROCAGEM_LOTE","lotes":"ROCAGEM_LOTES","fundo de vale":"ROCAGEM_FUNDO_VALE"}

# Valores padr√£o para importa√ß√£o
DEFAULT_PRIORITY=MEDIA
DEFAULT_STATUS=PENDENTE
DEFAULT_COST_PER_M2=0.5
DEFAULT_DURATION_BASE=60

# === MAPAS E GEOLOCALIZA√á√ÉO ===
# Mapbox (opcional - para mapas premium)
VITE_MAPBOX_ACCESS_TOKEN=seu-mapbox-token

# Google Maps (opcional)
VITE_GOOGLE_MAPS_API_KEY=sua-google-maps-api-key

# Limites geogr√°ficos de Londrina
LONDRINA_BOUNDS={"north":-23.25,"south":-23.35,"east":-51.05,"west":-51.25}

# === BACKUP E MANUTEN√á√ÉO ===
# Configura√ß√µes de backup autom√°tico
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=sua-chave-de-backup

# === LOGS E DEBUG ===
# N√≠veis: error, warn, info, debug
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10MB
LOG_MAX_FILES=5

# === CRON JOBS E AGENDAMENTOS ===
# Frequ√™ncia de atualiza√ß√µes
ANALYTICS_UPDATE_INTERVAL=6h
CACHE_INVALIDATION_INTERVAL=1h
HEALTH_CHECK_INTERVAL=5m

# === INTEGRA√á√ïES EXTERNAS ===
# API de CEP (opcional)
VIACEP_API_URL=https://viacep.com.br/ws

# API de previs√£o do tempo (opcional)
WEATHER_API_KEY=sua-weather-api-key
WEATHER_API_URL=https://api.openweathermap.org/data/2.5

# === SEGURAN√áA AVAN√áADA ===
# Configura√ß√µes de seguran√ßa adicionais
SESSION_SECRET=sua-session-secret-super-segura
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MS=900000

# === RATE LIMITING AVAN√áADO ===
# Limites por endpoint
RATE_LIMIT_API=100
RATE_LIMIT_AUTH=20
RATE_LIMIT_IMPORT=10
RATE_LIMIT_OCR=50

# === CORS E HEADERS ===
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# === COMPRESS√ÉO E OTIMIZA√á√ÉO ===
COMPRESSION_LEVEL=6
BROTLI_QUALITY=4
MINIFY_HTML=true
MINIFY_CSS=true
MINIFY_JS=true

# === TESTES E AMBIENTE DE DESENVOLVIMENTO ===
# Para testes em produ√ß√£o (use com cuidado)
ENABLE_TEST_ROUTES=false
ENABLE_DEBUG_PANELS=false
ENABLE_PROFILER=false

# ========================================
# INSTRU√á√ïES DE CONFIGURA√á√ÉO
# ========================================

# PASSO 1: Configure o Supabase
# 1. Acesse https://app.supabase.com
# 2. Crie um novo projeto
# 3. Copie o URL e as chaves (Settings > API)
# 4. Substitua VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY

# PASSO 2: Gere chaves seguras
# Execute: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Use para JWT_SECRET e ENCRYPTION_KEY

# PASSO 3: Configure Analytics (opcional)
# 1. Google Analytics: https://analytics.google.com
# 2. Sentry: https://sentry.io
# 3. Adicione as chaves correspondentes

# PASSO 4: Configure Mapas (opcional)
# 1. Mapbox: https://mapbox.com
# 2. Google Maps: https://console.cloud.google.com
# 3. Adicione os tokens

# PASSO 5: Configure Email (opcional)
# 1. Use Gmail com senha de app
# 2. Ou configure SMTP do seu provedor
# 3. Adicione as credenciais

# PASSO 6: Deploy na Vercel
# 1. Copie cada vari√°vel para o painel da Vercel
# 2. Settings > Environment Variables
# 3. Adicione todas as vari√°veis acima
# 4. Fa√ßa o deploy

# ========================================
# VARI√ÅVEIS OBRIGAT√ìRIAS M√çNIMAS
# ========================================
# Para funcionar, voc√™ precisa configurar pelo menos:
# - NODE_ENV=production
# - VITE_SUPABASE_URL
# - VITE_SUPABASE_ANON_KEY
# - JWT_SECRET (m√≠nimo 32 caracteres)
# - ENCRYPTION_KEY (m√≠nimo 32 caracteres)
# - VITE_APP_URL

# ========================================
# SEGURAN√áA
# ========================================
# - NUNCA compartilhe suas chaves privadas
# - Use chaves fortes e √∫nicas
# - Mantenha as vari√°veis atualizadas
# - Monitore o uso das APIs
# - Configure alertas de seguran√ßa

# ========================================
# MONITORAMENTO
# ========================================
# Ap√≥s o deploy, verifique:
# - Logs de erro no Vercel
# - M√©tricas de performance
# - Uso do banco de dados
# - Taxa de sucesso das APIs
# - Analytics de uso

# ========================================
# D√öVIDAS?
# ========================================
# Consulte:
# - DEPLOY_FINAL.md
# - CHECKLIST_DEPLOY_FINAL.md
# - GUIA_OCR_ROCAGEM.md
# - TROUBLESHOOTING.md

# Boa sorte com o deploy! üöÄ